## Vue.js源码剖析-响应式原理

### Vue为甚会有不同的构建版本，有什么区别？

rollup

-w  watch

-c config 配置

--sourcemap 源码一一对应

![image-20210517151036152](C:\Users\luoli\AppData\Roaming\Typora\typora-user-images\image-20210517151036152.png)

完整版：同时包含编译器和运行时的版本

编译器：把template转换成render函数

运行时版：vue-cli默认导入的是这个，推荐使用，比完整版少3000多行代码

运行时版本不包含编译器

vue-cli对webpack做了深层封装，无法直接查看webpack的配置，可以通过命令查看

`vue inspect > output.js`>表示输出到后面的文件中

输出的结果中包含resolve，别名有vue$，其中$是vue中的语法，表示完全匹配，所以

```js
import Vue from 'vue' //找到的就是vue$后的内容，即vue.runtime.esm.js
```



### Vue是怎么初始化的？有哪些静态方法？

1. 入口在哪里？

   根目录下的src/platform/web/entry-runtime-with-compiler.js

2. 如果完整版，初始化vue实例时，同时设置了template和render，会执行谁？

   盲猜render

3. 为什么el选择器没找到时候，生产环境创建div返回，开发环境控制台报warning？？？



4. vue的构造函数在哪里？

   src\core\instance\index.js

5. vue实例的成员vue的静态成员从哪里来的？

   初始化静态方法initGlobalApi（）

### Vue是如何渲染到页面的？



### Vue的数据响应式原理是怎样的？



#### Observer



#### defineReactive



#### 依赖收集 dep



#### Watcher



### Vue如何动态添加一个响应式属性？



### Vue中的set如何实现的？



### watch主要干了什么？如何实现的？



### nextTick什么时候使用？能干什么？怎么实现的？

